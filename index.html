<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Entry — Telegram only</title>

  <script>
    (function() {
      // Fast, robust detection:
      // 1) Telegram WebApp object (client WebView)
      const hasTelegramWebApp = !!(window.Telegram && window.Telegram.WebApp);

      // 2) Some Telegram clients include "Telegram" in the UA — fallback
      const ua = (navigator.userAgent || '').toLowerCase();
      const uaLooksLikeTelegram = ua.includes('telegram');

      // 3) Optional: allow if URL param ?tg_user_id=... provided (useful for bot links)
      function urlParam(name) {
        try {
          return new URLSearchParams(location.search).get(name);
        } catch(e) { return null; }
      }
      const hasTgParam = !!(urlParam('tg_user_id') || urlParam('tg'));

      const isFromTelegram = hasTelegramWebApp || uaLooksLikeTelegram || hasTgParam;

      if (isFromTelegram) {
        // nice — redirect to niloy.html
        // use replace so back button doesn't return to this detection page
        window.location.replace('nakamura.html');
        return;
      }

      // NOT telegram -> show fake network error and stop further loading
      // Replace whole document with a network-error like message
      const html = `
        <style>
          html,body{height:100%;margin:0;font-family:Segoe UI,Roboto,Arial,sans-serif;background:#f2f2f2;color:#222}
          .wrap{max-width:760px;margin:10vh auto;padding:48px;background:#fff;border-radius:6px;box-shadow:0 8px 30px rgba(0,0,0,0.08)}
          h1{font-weight:600;margin:0 0 12px}
          p{margin:8px 0;color:#555}
          .hint{margin-top:18px;color:#777;font-size:14px}
        </style>
        <div class="wrap" role="alert">
          <h1>This site can’t be reached</h1>
          <p>www.example.com took too long to respond.</p>
          <p class="hint">Try opening this link from the Telegram app (WebView) — access is restricted.</p>
        </div>
      `;
      // Replace document content immediately
      document.documentElement.innerHTML = html;

      // Stop any further resource loading like images/scripts
      try { window.stop(); } catch(e) {}

      // Prevent further JS execution (best-effort)
      throw new Error('Blocked: not opened from Telegram');
    })();
  </script>
</head>
<body>
  <!-- Body kept intentionally minimal: detection script in head will replace / redirect. -->
</body>
</html>
